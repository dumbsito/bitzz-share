'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

async function auth(token) {
  const tokenType = /^v\d+\./.test(token) ? "installation" : "oauth";
  return {
    type: "token",
    token: token,
    tokenType
  };
}

async function hook(token, request, route, parameters) {
  const endpoint = request.endpoint.merge(route, parameters);
  endpoint.headers.authorization = `token ${token}`;
  return request(endpoint);
}

function createTokenAuth(token) {
  if (!token) {
    throw new Error("[@octokit/auth-token] No token passed to createTokenAuth");
  }

  if (typeof token !== "string") {
    throw new Error("[@octokit/auth-token] Token passed to createTokenAuth is not a string");
  }

  return Object.assign(auth.bind(null, token), {
    hook: hook.bind(null, token)
  });
}

exports.createTokenAuth = createTokenAuth;
//# sourceMappingURL=index.js.map
